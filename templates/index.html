<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Website Usability Analyzer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">
    <h1>AI Website Usability Analyzer</h1>
    <p class="subtitle">
        Paste a website URL and instantly get a usability, readability,
        and accessibility report.
    </p>

    <!-- FORM -->
    <form method="POST">
        <input
            type="text"
            name="url"
            placeholder="Enter website URL (e.g. google.com)"
            required
        >
        <button type="submit">Analyze</button>
    </form>

    <small class="hint">
        Example: google.com, wikipedia.org, yourportfolio.com
    </small>

    <!-- INFO CARD (only when no result yet) -->
    {% if not result %}
    <div class="card info-card">
        <h3>ğŸ‘‹ What youâ€™ll get</h3>
        <ul>
            <li>âœ” Usability score (0â€“100)</li>
            <li>âœ” Readability analysis</li>
            <li>âœ” WCAG accessibility audit</li>
            <li>âœ” Clear improvement suggestions</li>
        </ul>
    </div>
    {% endif %}

    <!-- RESULT SECTION -->
    {% if result %}
        {% if result.error %}
            <div class="card error-card">
                âŒ {{ result.error }}
            </div>
        {% else %}
            <div class="card">
                <h2>Results for {{ result.final_url }}</h2>
                <p class="entered">Entered URL: {{ result.input_url }}</p>

                <!-- SCORE -->
                <div class="score-box">
                    <div class="score-label">Usability Score</div>

                    <div class="progress">
                        <div class="progress-bar
                            {% if result.score >= 75 %}good
                            {% elif result.score >= 50 %}average
                            {% else %}poor{% endif %}"
                            style="width: {{ result.score }}%">
                        </div>
                    </div>

                    <p class="score-text">
                        {{ result.score }} / 100 â€”
                        {% if result.score >= 75 %}
                            <span class="badge good">Good</span>
                        {% elif result.score >= 50 %}
                            <span class="badge average">Average</span>
                        {% else %}
                            <span class="badge poor">Poor</span>
                        {% endif %}
                    </p>
                </div>

                <!-- READABILITY -->
                <div class="section">
                    <h3>ğŸ“˜ Readability</h3>
                    <p>
                        Level: <b>{{ result.readability.level }}</b><br>
                        Approximate Score: {{ result.readability.flesch_score }}
                    </p>
                </div>

                <!-- ACCESSIBILITY -->
                <div class="section">
                    <h3>â™¿ Accessibility</h3>
                    {% if result.issues %}
                        <ul>
                            {% for issue in result.issues %}
                                <li>âŒ {{ issue }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="success">âœ… No accessibility issues found</p>
                    {% endif %}
                </div>

                <!-- SUGGESTIONS -->
                <div class="section">
                    <h3>ğŸ’¡ Suggestions</h3>
                    {% if result.suggestions %}
                        <ul>
                            {% for suggestion in result.suggestions %}
                                <li>{{ suggestion }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p>No major improvements needed ğŸ‰</p>
                    {% endif %}
                </div>
            </div>
        {% endif %}
    {% endif %}

    <footer>
        Built with â¤ï¸ by <b>Poojitha</b> â€¢ AI Website Usability Analyzer
    </footer>
</div>

</body>
</html>
